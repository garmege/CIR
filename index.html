<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- meta -->
    <meta property="og:url" content="https://custom-interval-running.netlify.app/">
    <meta property="og:title" content="ì»¤ìŠ¤í…€ ì¸í„°ë²Œ ëŸ¬ë‹">
    <meta property="og:type" content="website">
    <meta property="og:image" content="images/geumdamgom.jpg">
    <meta property="og:description" content="ë‚´ê°€ ì“°ë ¤ê³  ë§Œë“  ì»¤ìŠ¤í…€ ì¸í„°ë²Œ ëŸ¬ë‹ ì‚¬ì´íŠ¸">
    <title>ì»¤ìŠ¤í…€ ì¸í„°ë²Œ ëŸ¬ë‹ í˜ì´ì§€</title>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css");
        @font-face{
            font-family:'DNFBitBitv2';
            font-style:normal;font-weight:400;src:url('//cdn.df.nexon.com/img/common/font/DNFBitBitv2.otf')format('opentype')
        }

        /*ì»¬ëŸ¬ í”„ë¦¬ì…‹*/
        :root {
            --main-purple : #8934FF;
            --main-pink : #ff14bd;
            --sub-purple : #DCC5FF;
        }
        * {
            font-family: "Pretendard Variable";
            box-sizing: border-box;
            font-size: 16px;
            font-weight: 500;
        }
        body {
            background-color: #090238;
            color: #fff;
        }
        h1.title {
            font-family: 'DNFBitBitv2';
            font-size: 32px;
            color: var(--main-pink);
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            text-align: center;
        }
        #intervals {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
            margin-bottom: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
        }
        .interval {
            width: 100%;
            padding: 20px;
            display: flex;
            column-gap: 20px;
            align-items: center;
            justify-content: space-between;
        }

        .custom_box {
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        label {
            font-size: 14px;
            line-height: 22px;
            height: 40px;
        }
        input {
            width: 80px;
            height: 40px;
            background-color: transparent;
            border: 1px solid var(--main-purple);
            border-radius: 4px;
            color: #fff;
            text-align: center;
            font-size: 20px;
        }
        .btn_wrap {
            width: 100%;
            display: flex;
            justify-content: space-between;
            column-gap: 20px;
        }
        .btn_wrap button {
            flex:1;
            font-family: 'DNFBitBitv2';
        }
        button {
            line-height: 40px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            cursor: pointer;
        }
        #add_interval_btn {
            background-color: var(--main-pink);
            color: #fff;
        }
        #start_btn {
            background-color: var(--main-purple);
            color: #fff;
        }
        #myIntervalPlan {
            margin: 20px 0;
        }
        .plan {
            border: 1px solid var(--main-pink);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .plan.running {
            background: linear-gradient(-45deg, var(--main-purple), var(--sub-purple), var(--main-purple), var(--main-purple), var(--main-pink));
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        @keyframes gradient {
            0% {
            background-position: 0% 50%;
            }
            50% {
            background-position: 100% 50%;
            }
            100% {
            background-position: 0% 50%;
            }
        }
        .plan.running .time {
            font-size: 28px;
            font-weight: 800;
            margin-top: 10px;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Custom Interval Running</h1>
        <div id="intervals">
            <div class="interval">
                <div class="custom_box">
                    <label for="speedInterval">ì†ë„<br>(km/h)</label>
                    <input type="number" id="speedInterval">
                    <label for="timeInterval">ì‹œê°„<br>(ë¶„)</label>
                    <input type="number" id="timeInterval">
                </div>
            </div>
        </div>
        <div id="myIntervalPlan">
              <!--ì¸í„°ë²Œ êµ¬ê°„ ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ custome_boxì—ì„œ ì„¤ì •í•œ ê°’ì´ plan íƒœê·¸ í•˜ë‚˜ì”© ì¶”ê°€ë˜ì–´ì•¼ í•¨ idëŠ” ì¶”ê°€í•œ ìˆœì„œëŒ€ë¡œ ìë™ ë¶€ì—¬ë˜ê²Œ-->
              <!--plan íƒœê·¸ì— running í´ë˜ìŠ¤ê°€ ë¶™ìœ¼ë©´ ì‹œê°„(ë¶„) ì˜ ì‹œê°„ì´ 00:00ê¹Œì§€ ì¹´ìš´íŠ¸ë‹¤ìš´ ë˜ì–´ì•¼ í•¨-->
              <!--00:00ê¹Œì§€ ì¹´ìš´íŠ¸ë‹¤ìš´ ë˜ë©´ ì´ planì˜ running í´ë˜ìŠ¤ëŠ” ì œê±°. ë‹¤ìŒ planì— running í´ë˜ìŠ¤ê°€ ë¶™ê³  ì¹´ìš´íŠ¸ë‹¤ìš´ ë˜ ì‹œì‘ -->
              <!--ë§ˆì§€ë§‰ planì˜ ì‹œê°„(ë¶„) ë„ 00:00ê¹Œì§€ ì¹´ìš´íŠ¸ë‹¤ìš´ ë˜ë©´ ì™„ì„±-->
        </div>
        <div class="btn_wrap">
            <button onclick="addInterval()" id="add_interval_btn">ì¸í„°ë²Œ êµ¬ê°„ ì¶”ê°€</button>
            <button onclick="startInterval()" id="start_btn">ì‹œì‘! ğŸ˜</button>
        </div>
    </div>
    <script>
        var intervals = []; // ì‚¬ìš©ìê°€ ì¶”ê°€í•œ ì¸í„°ë²Œì„ ì €ì¥í•  ë°°ì—´
        var currentIntervalIndex = 0; // í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì¸í„°ë²Œì˜ ì¸ë±ìŠ¤
    
        // ì¸í„°ë²Œ ì¶”ê°€ í•¨ìˆ˜
        function addInterval() {
            var speedInput = document.getElementById("speedInterval");
            var timeInput = document.getElementById("timeInterval");
    
            var speed = speedInput.value;
            var time = timeInput.value;
    
            // ì…ë ¥ê°’ì— ë”°ë¼ ì‹œê°„ í¬ë§· ì„¤ì •
            if (time >= 1 && time <= 9) {
                time = "0" + time + ":00";
            } else if (time >= 10) {
                time = time + ":00";
            } else {
                alert("ì˜¬ë°”ë¥¸ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.");
                return;
            }
    
            if (speed === "" || time === "") {
                alert("ì†ë„ì™€ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.");
                return;
            }
    
            var intervalsContainer = document.getElementById("myIntervalPlan");
            var newInterval = document.createElement("div");
            newInterval.classList.add("plan");
    
            // ì¶”ê°€ëœ ì¸í„°ë²Œì˜ ì†ë„ì™€ ì‹œê°„ ì„¤ì •
            newInterval.innerHTML = `
                ğŸƒâ€â™‚ï¸ ì†ë„ : <span>${speed}</span> km/h | â±ï¸ ì‹œê°„(ë¶„) : <span class="time">${time}</span>
            `;
            intervalsContainer.appendChild(newInterval);
    
            // ì…ë ¥ëœ ì¸í„°ë²Œì„ ë°°ì—´ì— ì¶”ê°€
            intervals.push({speed: speed, time: time});
    
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            speedInput.value = "";
            timeInput.value = "";
        }
    
        // ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ
        function startInterval() {
            // ì¸í„°ë²Œì´ ì¶”ê°€ë˜ì§€ ì•Šì€ ê²½ìš°
            if (intervals.length === 0) {
                alert("ì¸í„°ë²Œì„ ì¶”ê°€í•˜ì„¸ìš”.");
                return;
            }
    
            // ì²« ë²ˆì§¸ ì¸í„°ë²Œ ì‹œì‘
            startNextInterval();
        }
    
        // ë‹¤ìŒ ì¸í„°ë²Œ ì‹œì‘ í•¨ìˆ˜
        function startNextInterval() {
            // í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì¸í„°ë²Œì— running í´ë˜ìŠ¤ ì¶”ê°€
            var currentInterval = document.getElementsByClassName("plan")[currentIntervalIndex];
            currentInterval.classList.add("running");
    
            // í˜„ì¬ ì¸í„°ë²Œì˜ ì‹œê°„(ë¶„) ê°€ì ¸ì˜¤ê¸°
            var timeSpan = currentInterval.querySelector(".time");
            var time = timeSpan.innerText;
            var [minutes, seconds] = time.split(":").map(Number);
    
            // ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘
            var timer = setInterval(function() {
                // ì‹œê°„ ê°ì†Œ
                seconds--;
                if (seconds < 0) {
                    seconds = 59;
                    minutes--;
                }
    
                // ì‹œê°„ ì—…ë°ì´íŠ¸
                timeSpan.innerText = `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
    
                // í˜„ì¬ ì¸í„°ë²Œ ì¢…ë£Œ ì¡°ê±´ í™•ì¸
                if (minutes === 0 && seconds === 0) {
                    clearInterval(timer);
                    currentIntervalIndex++; // ë‹¤ìŒ ì¸í„°ë²Œë¡œ ì¸ë±ìŠ¤ ì´ë™
                    currentInterval.classList.remove("running"); // í˜„ì¬ ì¸í„°ë²Œì—ì„œ running í´ë˜ìŠ¤ ì œê±°
    
                    // ëª¨ë“  ì¸í„°ë²Œì´ ì¢…ë£Œë˜ì—ˆì„ ë•Œ
                    if (currentIntervalIndex === intervals.length) {
                        alert("ì¸í„°ë²Œì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        return;
                    }
    
                    // ë‹¤ìŒ ì¸í„°ë²Œ ì‹œì‘
                    startNextInterval();
                }
            }, 1000);
        }
    </script>
    
</body>
</html>